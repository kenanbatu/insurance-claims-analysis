{
  "hash": "ce914f01df67c89394b1b054fedc5614",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Exploratory Analysis\"\njupyter: python3\nformat:\n  html:\n    toc: true\n---\n\n## Distributions of Key Numerical Features\n\nWe begin our exploratory data analysis by looking at the distributions of three important\nnumerical variables:\n\n- **Customer age**\n- **Vehicle age**\n- **Subscription length**\n\nThese histograms help us understand the spread and central tendencies of key features that\nlater play a role in the model.\n\n![](images/num_feature_distributions.png)\n\n**What we observe:**\n\n- Customer ages are mostly concentrated in a working-age range.  \n- Vehicle age is skewed toward newer cars.  \n- Subscription length varies widely and later appears as a strong predictor.\n\n---\n\n## Claim Rates Across Categories\n\nThis visualization compares claim rates across:\n\n- **Fuel type**  \n- **Region density**  \n- **Vehicle segment**\n\n![](images/categorical_claim_rates.png)\n\n**Insights:**\n\n- Some fuel types show slightly higher claim risk.  \n- Claim rates increase in higher-density regions.  \n- Certain vehicle segments consistently have higher claim frequencies.\n\n---\n\n## Regional Claim Differences\n\nWe also examine geographic variation in claims.\n\n![](images/region_claim_rates.png)\n\n**Interpretation:**\n\n- Claim behavior varies meaningfully across regions.  \n- Some regions exceed 10% claim rate while others sit closer to 4%.  \n- Geography is therefore an important predictor in our model.\n\n---\n\n## Subscription Length and Claim Behavior\n\n![](images/subscription_length_vs_claim.png)\n\n**We observe:**\n\n- Longer subscription durations correlate with higher claim rates.  \n- This reflects accumulated exposure time and helps explain why subscription length\n  appears as a top feature in the model.\n\n---\n\n## Interactive: Claim Rates by Region\n\nThe visualization below is a fully interactive version of regional claim behavior.\nYou can hover over points to see:\n\n- Claim rate (percentage)  \n- Number of policies in that region  \n- Average customer age  \n- Population density  \n\nThis interactive chart allows a more detailed exploration of geographic patterns.\n\n### Interactive Plot\n\n#| label: interactive-claim-rates-by-region\n#| echo: false\n#| warning: false\n#| message: false\n\nimport pandas as pd\nimport plotly.express as px\n\n# IMPORTANT: update this path to where your CSV actually lives inside the site folder\ndf = pd.read_csv(\"insurance_claims.csv\")\n\nregion_summary = df.groupby('region_code').agg({\n    'claim_status': ['mean', 'count'],\n    'customer_age': 'mean',\n    'region_density': 'first'\n}).reset_index()\n\nregion_summary.columns = ['region', 'claim_rate', 'policies', 'avg_age', 'density']\nregion_summary['claim_pct'] = region_summary['claim_rate'] * 100\n\nfig = px.scatter(\n    region_summary,\n    x='policies', y='claim_pct',\n    size='policies',\n    color='claim_pct',\n    hover_name='region',\n    hover_data={'policies':':,', 'claim_pct':':.2f', 'avg_age':':.1f'},\n    title='Interactive: Claim Rates by Region',\n    size_max=30,\n    height=500\n)\n\nfig.show()\n\n<iframe src=\"images/claim_rates_by_region.html\" width=\"100%\" height=\"560\" style=\"border:none;\"></iframe>\n\n",
    "supporting": [
      "eda_files"
    ],
    "filters": [],
    "includes": {}
  }
}